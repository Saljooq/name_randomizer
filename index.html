<!DOCTYPE html>
<html>
<body>
<style>
.wrapper {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: minmax(100px, auto);
}
.box1 {
  grid-column-start: 1;
  grid-column-end: 2;
}
.box1 {
  grid-column-start: 1;
  grid-column-end: 2;
}
</style>
<h1>The Randomizer</h1>   
<div class="wrapper">

<div class="box3" style=" padding-right: 100px;">
<form id="internsInput" onsubmit="(e) => {processInput(e)}">
  <p><label for="intern_names">Enter names of all the Kingland interns</label></p>
  <textarea id="intern_names" name="intern_names" rows="30" cols="50">
Name 1
Name 2
Name 3</textarea>
  <br>
  <button type="submit" >Randomize</button>
  
</form>

<button id="clear_fields" type="submit" >Clear results</button>
</div >
<div id="result">

</div>
</div>

<script>

function shuffler (array){


  // taken from https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array

  let currentIndex = array.length,  randomIndex;

  // While there remain elements to shuffle.
  while (currentIndex != 0) {

    // Pick a remaining element.
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex--;

    // And swap it with the current element.
    [array[currentIndex], array[randomIndex]] = [
      array[randomIndex], array[currentIndex]];
  }

  return array;

}

function processRandomizeBtn (){

  
  var raw_in = document.querySelector("#internsInput").elements["intern_names"].value;

  var res_div = document.getElementById('result');


  var processed = raw_in.split("\n")

  var ol = document.createElement('ol');
  var li;
  
  res_div.appendChild(ol); // append the created ul to the root

  var shuffled = shuffler(processed)


  shuffled.forEach( name => {

    li = document.createElement('li');
    li.appendChild(document.createTextNode(name)); 
    ol.appendChild(li);
  }

  )
  
}

const form = document.querySelector("#internsInput");

form.addEventListener("submit", function (event) {

	event.preventDefault();

  processRandomizeBtn();
  

});

clear_btn = document.getElementById("clear_fields")

clear_btn.addEventListener("click", function (event) {

const res_div = document.getElementById('result');
res_div.innerHTML = null;

});

</script>

<p>Click the "Randomize" and all the randomized names will be placed on the right</p>
</body>
</html>
